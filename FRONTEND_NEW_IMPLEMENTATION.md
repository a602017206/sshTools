# frontend_new å®æ–½æ€»ç»“

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. é¡¹ç›®åˆå§‹åŒ–
- âœ… åˆ›å»º `frontend_new/` ç›®å½•ç»“æ„
- âœ… é…ç½® `package.json` (Svelte 4, Vite 5, Tailwind CSS 3)
- âœ… é…ç½® `vite.config.js` (Vite æ„å»ºé…ç½®)
- âœ… é…ç½® `svelte.config.js` (Svelte ç¼–è¯‘é…ç½®)
- âœ… é…ç½® `tailwind.config.js` (Tailwind è‡ªå®šä¹‰ä¸»é¢˜)
- âœ… é…ç½® `postcss.config.js` (PostCSS é…ç½®)
- âœ… å®‰è£…æ‰€æœ‰ä¾èµ– (`npm install`)
- âœ… é…ç½® `wails.json` ä½¿ç”¨ frontend_new

### 2. çŠ¶æ€ç®¡ç† (Svelte Store)
- âœ… `stores.js` - å…¨å±€çŠ¶æ€ç®¡ç†
  - `assetsStore` - èµ„äº§åˆ—è¡¨
  - `groupedAssetsStore` - åˆ†ç»„èµ„äº§ (derived)
  - `connectionsStore` - SSH è¿æ¥ä¼šè¯
  - `activeSessionIdStore` - æ´»åŠ¨ä¼šè¯
  - `themeStore` - ä¸»é¢˜çŠ¶æ€ (light/dark)
  - `uiStore` - UI çŠ¶æ€ (ä¾§è¾¹æ ã€é¢æ¿å¼€å…³ç­‰)

### 3. åŸºç¡€ UI ç»„ä»¶åº“
- âœ… `Button.svelte` - æŒ‰é’®ç»„ä»¶ (primary, secondary, ghost, danger)
- âœ… `Input.svelte` - è¾“å…¥æ¡†ç»„ä»¶
- âœ… `Dialog.svelte` - å¯¹è¯æ¡†ç»„ä»¶
- âœ… `Select.svelte` - ä¸‹æ‹‰é€‰æ‹©ç»„ä»¶

### 4. æ ¸å¿ƒä¸šåŠ¡ç»„ä»¶

#### AssetList.svelte (èµ„äº§åˆ—è¡¨)
- âœ… åˆ†ç»„æ˜¾ç¤ºæœåŠ¡å™¨èµ„äº§
- âœ… æœç´¢è¿‡æ»¤åŠŸèƒ½
- âœ… æ·»åŠ /ç¼–è¾‘/åˆ é™¤æŒ‰é’®
- âœ… è¿æ¥çŠ¶æ€æŒ‡ç¤ºç¯ (åœ¨çº¿/ç¦»çº¿)
- âœ… æ”¯æŒå¤šç§ç±»å‹ (SSH, Database, Docker)

#### TerminalPanel.svelte (ç»ˆç«¯é¢æ¿)
- âœ… å¤šæ ‡ç­¾é¡µæ”¯æŒ
- âœ… æ ‡ç­¾åˆ‡æ¢ã€å…³é—­ã€é‡å‘½ååŠŸèƒ½
- âœ… åŒå‡»ç¼–è¾‘æ ‡ç­¾åç§°
- âœ… ç»ˆç«¯å ä½ç¬¦æ˜¾ç¤º

#### Terminal.svelte (ç»ˆç«¯ç»„ä»¶)
- âœ… åŸºç¡€ç»„ä»¶ç»“æ„
- â¸ï¸ xterm.js åˆå§‹åŒ–å¾…å®ç°

#### FileManager.svelte (æ–‡ä»¶ç®¡ç†å™¨)
- âœ… æ–‡ä»¶åˆ—è¡¨æ˜¾ç¤º
- âœ… ç›®å½•å¯¼èˆª (é¢åŒ…å±‘)
- âœ… æ–‡ä»¶å›¾æ ‡åŒºåˆ† (æ–‡ä»¶å¤¹/æ–‡ä»¶)
- âœ… åˆ·æ–°/ä¸Šä¼ /ä¸‹è½½å·¥å…·æ 

#### ServerMonitor.svelte (æœåŠ¡å™¨ç›‘æ§)
- âœ… CPU/å†…å­˜/ç£ç›˜/ç½‘ç»œç›‘æ§å¡ç‰‡
- âœ… ç³»ç»Ÿä¿¡æ¯æ˜¾ç¤º
- âœ… å“åº”å¼å¸ƒå±€
- â¸ï¸ å›¾è¡¨æ˜¾ç¤ºå¾…å®ç°

#### DevToolsPanel.svelte (å¼€å‘å·¥å…·é›†)
- âœ… å·¥å…·åˆ—è¡¨å±•ç¤º
- âœ… JSON æ ¼å¼åŒ–å·¥å…·
- âœ… æ¨¡æ€æ¡†/æŠ½å±‰å¼é¢æ¿
- â¸ï¸ Base64/Hash/UUID ç­‰å·¥å…·å¾…å®ç°

#### AddAssetDialog.svelte (æ·»åŠ èµ„äº§å¯¹è¯æ¡†)
- âœ… è¿æ¥ç±»å‹é€‰æ‹© (SSH, Database, Docker)
- âœ… å®Œæ•´è¡¨å• (åç§°ã€ä¸»æœºã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ã€åˆ†ç»„)
- âœ… åŠ¨æ€ç«¯å£é»˜è®¤å€¼
- âœ… æ•°æ®åº“ç±»å‹é€‰æ‹©

### 5. ä¸»åº”ç”¨ç»„è£…
- âœ… `App.svelte` - ä¸»å¸ƒå±€
  - é¡¶éƒ¨æ ‡é¢˜æ  (Logo + å¼€å‘å·¥å…·æŒ‰é’®)
  - å·¦ä¾§èµ„äº§åˆ—è¡¨ (å¯æŠ˜å ã€å¯è°ƒæ•´å®½åº¦)
  - ä¸­é—´ç»ˆç«¯é¢æ¿
  - å³ä¾§æ–‡ä»¶ç®¡ç† + ç›‘æ§é¢æ¿
  - æ·»åŠ èµ„äº§å¯¹è¯æ¡†
  - å¼€å‘å·¥å…·é›†é¢æ¿
- âœ… ä¸»é¢˜åˆ‡æ¢æ”¯æŒ (æ·±è‰²/æµ…è‰²)

### 6. æ ·å¼ç³»ç»Ÿ
- âœ… `app.css` - å…¨å±€æ ·å¼
  - Tailwind CSS æŒ‡ä»¤
  - è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼
  - è‡ªå®šä¹‰åŠ¨ç”»
- âœ… æ·±è‰²ä¸»é¢˜æ”¯æŒ

## ğŸ”§ å¾…å®ç°çš„åŠŸèƒ½

### é«˜ä¼˜å…ˆçº§
1. **Wails åç«¯é›†æˆ**
   - è¿è¡Œ `wails dev` è‡ªåŠ¨ç”Ÿæˆ `wailsjs/` ç»‘å®š
   - é›†æˆ `ConnectSSH`, `SendSSHData`, `CloseSSH`, `ResizeSSH` API
   - é›†æˆ `GetConnections`, `AddConnection`, `UpdateConnection`, `RemoveConnection` API

2. **xterm.js ç»ˆç«¯åˆå§‹åŒ–**
   - åœ¨ `Terminal.svelte` ä¸­åˆå§‹åŒ– xterm.js
   - é›†æˆ FitAddon å’Œ WebLinksAddon
   - å®ç°åŒå‘é€šä¿¡

3. **SSH è¿æ¥åŠŸèƒ½**
   - åœ¨ `handleConnect` ä¸­è°ƒç”¨ `ConnectSSH` API
   - å¤„ç†è¿æ¥çŠ¶æ€å˜åŒ–
   - å®ç°ä¼šè¯ç®¡ç†

4. **å®æ—¶ç›‘æ§æ•°æ®**
   - ä½¿ç”¨ `GetMonitoringData` API
   - å®šæ—¶è½®è¯¢è·å–æ•°æ®
   - é›†æˆå›¾è¡¨æ˜¾ç¤º

### ä¸­ä¼˜å…ˆçº§
5. **æ–‡ä»¶ç®¡ç†åŠŸèƒ½**
   - å®ç° `ListFiles`, `ChangeDirectory` API
   - å®ç° `UploadFile`, `DownloadFile` API
   - å®ç° `DeleteFile`, `RenameFile`, `CreateDirectory` API
   - ä¼ è¾“è¿›åº¦æ˜¾ç¤º

6. **å›¾è¡¨åº“é›†æˆ**
   - é€‰æ‹©å¹¶å®‰è£…å›¾è¡¨åº“ (Chart.js æˆ– Svelte Chart)
   - é›†æˆ CPU/å†…å­˜å›¾è¡¨
   - ç½‘ç»œæµé‡å¯è§†åŒ–

### ä½ä¼˜å…ˆçº§
7. **å¼€å‘å·¥å…·å®Œå–„**
   - Base64 ç¼–è§£ç 
   - Hash è®¡ç®— (MD5, SHA256)
   - æ—¶é—´æˆ³è½¬æ¢
   - UUID ç”Ÿæˆ

8. **ä»£ç ä¼˜åŒ–**
   - æ·»åŠ é”®ç›˜äº‹ä»¶å¤„ç† (A11y)
   - æ·»åŠ  ARIA role å±æ€§
   - æ€§èƒ½ä¼˜åŒ–

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend_new/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ Dialog.svelte
â”‚   â”‚   â”‚   â””â”€â”€ Select.svelte
â”‚   â”‚   â”œâ”€â”€ AssetList.svelte        # èµ„äº§åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ TerminalPanel.svelte     # ç»ˆç«¯é¢æ¿ (æ ‡ç­¾)
â”‚   â”‚   â”œâ”€â”€ Terminal.svelte          # ç»ˆç«¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FileManager.svelte       # æ–‡ä»¶ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ServerMonitor.svelte     # æœåŠ¡å™¨ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ DevToolsPanel.svelte    # å¼€å‘å·¥å…·é›†
â”‚   â”‚   â””â”€â”€ AddAssetDialog.svelte    # æ·»åŠ èµ„äº§å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ stores.js              # Svelte Store çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ app.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ App.svelte                 # ä¸»ç»„ä»¶
â”‚   â””â”€â”€ main.js                    # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json                   # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.js                 # Vite é…ç½®
â”œâ”€â”€ svelte.config.js               # Svelte é…ç½®
â”œâ”€â”€ tailwind.config.js             # Tailwind é…ç½®
â”œâ”€â”€ postcss.config.js              # PostCSS é…ç½®
â”œâ”€â”€ index.html                    # HTML æ¨¡æ¿
â”œâ”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ .gitignore
```

## ğŸš€ å¦‚ä½•è¿è¡Œ

### å¼€å‘æ¨¡å¼ (éœ€è¦ Wails é›†æˆ)
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /Users/dingwei/go/sshTools
wails dev
```

è¿™å°†:
1. å¯åŠ¨ Go åç«¯
2. è¿è¡Œ Vite å¼€å‘æœåŠ¡å™¨ (http://localhost:5174)
3. è‡ªåŠ¨ç”Ÿæˆ Wails ç»‘å®šåˆ° `frontend_new/wailsjs/`
4. å¯ç”¨çƒ­é‡è½½

### ç‹¬ç«‹å‰ç«¯å¼€å‘ (ä¸è¿æ¥åç«¯)
```bash
cd frontend
npm run dev
```

å‰ç«¯å°†åœ¨ http://localhost:5174 è¿è¡Œï¼Œä½†åç«¯ API ä¸å¯ç”¨ã€‚

### æ„å»º
```bash
cd frontend
npm run build
```

æ„å»ºè¾“å‡ºåˆ° `build/frontend_new/`ã€‚

## ğŸ“‹ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Svelte | 4.2.0 | å‰ç«¯æ¡†æ¶ |
| Vite | 5.0.0 | æ„å»ºå·¥å…· |
| Tailwind CSS | 3.4.0 | æ ·å¼æ¡†æ¶ |
| xterm.js | 5.5.0 | ç»ˆç«¯æ¨¡æ‹Ÿå™¨ |
| chart.js | 4.4.0 | å›¾è¡¨åº“ (å¾…é›†æˆ) |
| Wails | 2.x | æ¡Œé¢åº”ç”¨æ¡†æ¶ |

## ğŸ“ æ³¨æ„äº‹é¡¹

### æ„å»ºè¿‡ç¨‹ä¸­çš„é—®é¢˜
1. **DevToolsPanel.svelte placeholder é—®é¢˜**: ä½¿ç”¨äº† HTML å®ä½“è½¬ä¹‰å¼•å·
2. **stores.js è¯­æ³•é”™è¯¯**: ä¿®å¤äº†å¯¹è±¡æ›´æ–°è¯­æ³•
3. **App.svelte Wails å¯¼å…¥**: å·²æ³¨é‡Šï¼Œå¾… wails dev ç”Ÿæˆç»‘å®šåå¯ç”¨

### æ— éšœç¢ (A11y) è­¦å‘Š
æ„å»ºæ—¶ä¼šæ˜¾ç¤ºä¸€äº› A11y è­¦å‘Š:
- `<div>` å…ƒç´ ä¸Šçš„ç‚¹å‡»äº‹ä»¶éœ€è¦é”®ç›˜äº‹ä»¶å¤„ç†
- éœ€è¦æ·»åŠ  ARIA role å±æ€§

è¿™äº›å¯ä»¥åœ¨åç»­ä¼˜åŒ–ä¸­è§£å†³ã€‚

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **æµ‹è¯•åŸºç¡€æ„å»º**
   ```bash
   cd frontend
   npm run build
   ```

2. **é›†æˆ Wails**
   ```bash
   cd ..
   wails dev
   ```

3. **å®ç° xterm.js ç»ˆç«¯**
   - åœ¨ `Terminal.svelte` ä¸­åˆå§‹åŒ– xterm.js
   - å®ç°è¾“å…¥è¾“å‡ºå¤„ç†

4. **è¿æ¥åç«¯ API**
   - å¯ç”¨ `App.svelte` ä¸­çš„ Wails å¯¼å…¥
   - å®ç°æ‰€æœ‰ API è°ƒç”¨

5. **å®Œå–„åŠŸèƒ½**
   - æ·»åŠ å›¾è¡¨åº“
   - å®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
   - å®Œå–„ç›‘æ§æ•°æ®

## ğŸ“Š å®Œæˆè¿›åº¦

| é˜¶æ®µ | çŠ¶æ€ | å®Œæˆåº¦ |
|------|------|--------|
| é¡¹ç›®åˆå§‹åŒ– | âœ… | 100% |
| çŠ¶æ€ç®¡ç† | âœ… | 100% |
| åŸºç¡€ UI ç»„ä»¶ | âœ… | 100% |
| æ ¸å¿ƒä¸šåŠ¡ç»„ä»¶ | âœ… | 80% |
| ä¸»åº”ç”¨ç»„è£… | âœ… | 100% |
| Wails åç«¯é›†æˆ | â¸ï¸ | 0% |
| xterm.js é›†æˆ | â¸ï¸ | 0% |
| ç›‘æ§æ•°æ®è·å– | â¸ï¸ | 0% |
| æ–‡ä»¶ç®¡ç†åŠŸèƒ½ | â¸ï¸ | 0% |
| **æ€»ä½“å®Œæˆåº¦** | - | **çº¦ 60%** |

## ğŸ“š å‚è€ƒæ–‡ä»¶

- æ—§å‰ç«¯å®ç°: `/Users/dingwei/go/sshTools/frontend_old/`
- Figma è®¾è®¡: `/Users/dingwei/go/sshTools/new_frontend/`
- åç«¯ API: `/Users/dingwei/go/sshTools/app.go`
- Wails ç»‘å®š: `/Users/dingwei/go/sshTools/frontend/wailsjs/go/main/App.js`

---

**ç”Ÿæˆæ—¶é—´**: 2026-01-22  
**ç”Ÿæˆè€…**: AI Assistant
