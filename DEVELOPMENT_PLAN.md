# SSH桌面客户端工具 - 开发计划

## 项目概述

开发一个跨平台的SSH桌面客户端应用，支持Windows、macOS和Linux系统。

## 技术栈选择

### 后端（Go）
- **SSH功能**: golang.org/x/crypto/ssh
- **配置管理**: viper 或 yaml
- **加密存储**: go-keyring (系统密钥链)

### 前端框架选择
1. **Wails** (推荐)
   - Go + Web技术 (Vue/React/Svelte)
   - 原生性能，体积小
   - 跨平台支持好

2. **Fyne**
   - 纯Go GUI框架
   - 简单易用，但UI定制性较低

3. **Electron + Go后端**
   - UI最灵活
   - 体积较大

## 开发阶段

### 第一阶段：核心SSH功能
- [ ] SSH连接管理
  - 密码认证
  - SSH密钥认证
  - 连接超时处理
  - 断线重连机制
- [ ] 终端模拟器
  - PTY支持
  - ANSI颜色支持
  - 终端大小调整
- [ ] 会话管理
  - 创建/关闭会话
  - 会话状态监控
  - 多会话切换

### 第二阶段：基础UI功能
- [ ] 主窗口框架
  - 会话列表侧边栏
  - 终端显示区域
  - 菜单栏
  - 状态栏
- [ ] 连接管理界面
  - 新建连接配置
  - 编辑连接信息
  - 删除连接
  - 连接分组/标签
- [ ] 设置界面
  - 外观设置
  - 字体设置
  - 快捷键配置

### 第三阶段：文件传输功能
- [ ] SFTP实现
  - 上传文件/文件夹
  - 下载文件/文件夹
  - 文件浏览器
  - 拖拽上传
  - 传输进度显示
  - 断点续传
- [ ] SCP支持（可选）

### 第四阶段：高级功能
- [ ] 隧道/端口转发
  - 本地端口转发 (-L)
  - 远程端口转发 (-R)
  - 动态端口转发/SOCKS代理 (-D)
  - 隧道管理界面
- [ ] 命令片段管理
  - 保存常用命令
  - 命令分类
  - 一键执行
- [ ] 多窗口/分屏
  - 水平分屏
  - 垂直分屏
  - 标签页管理

### 第五阶段：安全与增强
- [ ] 凭证管理
  - 系统密钥链集成
  - SSH密钥生成
  - 密钥管理界面
  - 加密配置文件
- [ ] 跳板机支持
  - SSH ProxyJump
  - 多级跳转
- [ ] 会话日志
  - 自动记录会话
  - 日志查看和搜索
  - 可选加密存储

### 第六阶段：用户体验优化
- [ ] 主题系统
  - 亮色/暗色主题
  - 终端配色方案
  - 自定义主题
- [ ] 快捷操作
  - 全局快捷键
  - 快速连接
  - 命令搜索
- [ ] 会话恢复
  - 保存工作区
  - 自动恢复上次会话
- [ ] 国际化
  - 中文
  - 英文

### 第七阶段：打包与发布
- [ ] 跨平台打包
  - Windows安装包 (.exe, .msi)
  - macOS安装包 (.dmg, .app)
  - Linux包 (.deb, .rpm, .AppImage)
- [ ] 自动更新
  - 版本检查
  - 增量更新
- [ ] 文档编写
  - 用户手册
  - 常见问题
  - 开发文档

## 核心功能清单

### 必备功能（MVP）
1. ✅ SSH连接（密码和密钥认证）
2. ✅ 终端模拟器（基础ANSI支持）
3. ✅ 连接配置保存
4. ✅ 基础UI界面
5. ✅ 多会话管理

### 重要功能
1. 🔸 SFTP文件传输
2. 🔸 SSH密钥管理
3. 🔸 端口转发/隧道
4. 🔸 跳板机支持
5. 🔸 命令片段管理
6. 🔸 会话分屏

### 增强功能
1. 📋 会话日志记录
2. 📋 脚本自动化
3. 📋 远程命令批量执行
4. 📋 性能监控（CPU、内存、网络）
5. 📋 终端录制/回放
6. 📋 云同步配置

## 技术难点与解决方案

### 1. 终端模拟器
- **难点**: 完整的ANSI/VT100转义序列支持
- **方案**: 使用成熟的终端库如 pty, tcell 或集成 xterm.js (Web前端)

### 2. 跨平台打包
- **难点**: 不同系统的打包格式和签名
- **方案**: 使用 GitHub Actions 自动化构建和打包

### 3. 凭证安全存储
- **难点**: 跨平台的安全存储
- **方案**:
  - macOS: Keychain
  - Windows: Windows Credential Manager
  - Linux: Secret Service API (gnome-keyring/kwallet)
  - 使用 go-keyring 统一封装

### 4. 性能优化
- **难点**: 大量数据输出时的渲染性能
- **方案**:
  - 虚拟滚动
  - 缓冲区管理
  - 限制历史记录大小

## 项目结构建议

```
sshTools/
├── cmd/
│   └── sshtools/          # 主程序入口
├── internal/
│   ├── ssh/               # SSH核心功能
│   │   ├── client.go      # SSH客户端
│   │   ├── session.go     # 会话管理
│   │   ├── sftp.go        # SFTP实现
│   │   └── tunnel.go      # 端口转发
│   ├── config/            # 配置管理
│   ├── crypto/            # 加密相关
│   ├── terminal/          # 终端模拟器
│   └── store/             # 数据存储
├── frontend/              # 前端代码（如使用Wails）
│   ├── src/
│   └── dist/
├── pkg/                   # 可复用的公共包
├── assets/                # 资源文件
├── build/                 # 构建脚本和配置
└── docs/                  # 文档

```

## 类似项目参考

- **Termius**: 商业SSH客户端，功能全面
- **MobaXterm**: Windows上功能强大
- **Royal TSX**: macOS专业工具
- **Electerm**: 开源跨平台，基于Electron
- **WindTerm**: 开源高性能终端

## 开发建议

1. **先实现MVP**: 从最核心的SSH连接和终端功能开始
2. **迭代开发**: 逐步添加功能，每个版本都可用
3. **用户反馈**: 早期发布测试版本收集反馈
4. **性能优先**: SSH工具对性能要求高，注意优化
5. **安全第一**: 凭证管理和存储必须安全可靠

## 预估时间线

- **MVP版本**: 2-3周（基础连接+终端+简单UI）
- **Beta版本**: 1-2个月（添加SFTP、隧道等功能）
- **正式版本**: 3-4个月（完善所有功能+测试+文档）

注：以上时间基于单人开发的估算
