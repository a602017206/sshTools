# 快速开始指南

## 终端UI已实现！

现在你可以通过图形界面连接到SSH服务器并使用终端了。

## 运行应用

```bash
# 确保在项目根目录
cd /Users/dingwei/go/sshTools

# 使用开发模式运行（带热重载）
$HOME/go/bin/wails dev
```

## 如何使用

### 1. 启动应用
运行 `wails dev` 命令后，应用将自动打开。

### 2. 创建SSH连接
- 点击左侧边栏的 "**+ 新建连接**" 按钮
- 填写连接信息：
  - **连接名称**: 给连接起个名字（例如：生产服务器）
  - **主机地址**: SSH服务器的IP或域名
  - **端口**: 默认22
  - **用户名**: SSH登录用户名
  - **密码** (可选): 用于测试连接，不会保存
- （可选）点击 "**测试连接**" 验证连接是否正常（需要先输入密码）
- 点击 "**保存**" 保存连接配置

### 2.1 编辑连接
- 在左侧连接列表中找到要修改的连接
- 点击 "**编辑**" 按钮
- 修改需要更改的字段
- 点击 "**保存**" 更新配置
- 或点击 "**取消**" 放弃修改

### 3. 连接到SSH服务器
- 在左侧连接列表中找到你刚创建的连接
- 点击 "**连接**" 按钮
- 输入SSH密码
- 等待连接建立

### 4. 使用终端
- 连接成功后，右侧会显示终端界面
- 你可以像使用普通终端一样输入命令
- 终端支持：
  - ✅ 完整的ANSI颜色支持
  - ✅ 命令输入和输出
  - ✅ 终端大小自适应
  - ✅ 链接点击
  - ✅ 滚动查看历史输出

## 已实现的功能

### 后端 (Go)
- ✅ SSH客户端连接（密码认证）
- ✅ SSH会话管理
- ✅ PTY支持
- ✅ 实时数据传输
- ✅ 终端大小调整
- ✅ 连接配置持久化

### 前端 (Svelte + xterm.js)
- ✅ 终端UI组件（基于xterm.js）
- ✅ 连接管理界面
- ✅ 实时SSH输出显示
- ✅ 用户输入处理
- ✅ 终端自适应大小
- ✅ 事件驱动的前后端通信

## 注意事项

1. **密码安全**: 当前密码是通过prompt输入的，不会保存。这是最安全的方式。

2. **配置文件位置**:
   - 配置保存在 `~/.sshtools/config.json`
   - 只保存连接配置，不保存密码

3. **开发模式 vs 生产模式**:
   - 开发模式 (`wails dev`): 带热重载，适合开发
   - 生产构建 (`wails build`): 生成独立的应用程序

## 下一步可以做什么

### 短期改进
1. 添加SSH密钥认证支持
2. 实现多标签页（同时连接多个服务器）
3. 添加会话断开重连功能
4. 实现命令历史记录

### 中期功能
1. SFTP文件传输
2. 端口转发/SSH隧道
3. 跳板机支持
4. 会话日志记录

### 长期优化
1. 主题系统
2. 终端分屏
3. 命令片段管理
4. 脚本自动化

## 故障排查

### 连接失败
- 检查主机地址和端口是否正确
- 确认用户名和密码是否正确
- 检查服务器防火墙设置
- 查看控制台日志获取详细错误信息

### 终端显示异常
- 尝试调整窗口大小
- 检查控制台是否有错误信息
- 重新连接SSH会话

### 应用无法启动
```bash
# 检查依赖是否完整
cd frontend && npm install && cd ..

# 重新构建
go build -v

# 使用完整路径运行wails
$HOME/go/bin/wails dev
```

## 技术架构

```
前端 (Svelte)                后端 (Go)
┌─────────────────┐         ┌──────────────────┐
│ App.svelte      │         │ app.go           │
│  ├─ ConnectionMgr│◄────────┤  ├─ ConnectSSH   │
│  └─ Terminal    │         │  ├─ SendSSHData  │
│                 │         │  └─ ResizeSSH    │
└────────┬────────┘         └────────┬─────────┘
         │                           │
    xterm.js                   ssh.SessionManager
         │                           │
         └───────Wails Events────────┘
           (ssh:output:sessionId)
```

## 反馈与贡献

如果你发现bug或有功能建议，欢迎提issue！
